# APKæ‰“åŒ…è¯¦ç»†æ•™ç¨‹ ğŸ“±

## ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡

### Windowsç¯å¢ƒä¸‹æ‰“åŒ…

1. **å®‰è£…Python 3.8+**
   - ä» https://python.org ä¸‹è½½å¹¶å®‰è£…Python
   - ç¡®ä¿å‹¾é€‰"Add to PATH"é€‰é¡¹

2. **å®‰è£…ä¾èµ–åŒ…**
   ```bash
   pip install buildozer
   pip install -r requirements.txt
   ```

3. **å®‰è£…Androidå¼€å‘ç¯å¢ƒ**
   - ä¸‹è½½å¹¶å®‰è£… Android Studio
   - é…ç½®Android SDKå’ŒNDK
   - è®¾ç½®ç¯å¢ƒå˜é‡

### Linuxç¯å¢ƒä¸‹æ‰“åŒ…ï¼ˆæ¨èï¼‰

å¦‚æœWindowsç¯å¢ƒé…ç½®å›°éš¾ï¼Œå»ºè®®ä½¿ç”¨Linuxè™šæ‹Ÿæœºæˆ–WSLï¼š

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3-pip git zip unzip openjdk-8-jdk autoconf libtool pkg-config zlib1g-dev libncurses5-dev libncursesw5-dev libtinfo5 cmake libffi-dev libssl-dev

# å®‰è£…buildozer
pip3 install buildozer

# å…‹éš†é¡¹ç›®å¹¶æ„å»º
git clone <ä½ çš„é¡¹ç›®åœ°å€>
cd pack
buildozer android debug
```

## ğŸ“¦ æ‰“åŒ…æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šæœ¬åœ°æ‰“åŒ…

1. **è¿›å…¥é¡¹ç›®ç›®å½•**
   ```bash
   cd F:\cursor\files\pack
   ```

2. **åˆå§‹åŒ–buildozerï¼ˆé¦–æ¬¡è¿è¡Œï¼‰**
   ```bash
   buildozer init
   ```

3. **æ„å»ºAPK**
   ```bash
   # è°ƒè¯•ç‰ˆæœ¬
   buildozer android debug
   
   # å‘å¸ƒç‰ˆæœ¬ï¼ˆéœ€è¦ç­¾åï¼‰
   buildozer android release
   ```

4. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - é¦–æ¬¡æ„å»ºä¼šä¸‹è½½Android SDK/NDKï¼Œéœ€è¦è¾ƒé•¿æ—¶é—´
   - æ„å»ºå®Œæˆåï¼ŒAPKåœ¨ `bin/` ç›®å½•ä¸‹

### æ–¹æ³•äºŒï¼šäº‘ç«¯æ‰“åŒ…ï¼ˆç®€å•å¿«æ·ï¼‰

å¦‚æœæœ¬åœ°ç¯å¢ƒé…ç½®å›°éš¾ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿æœåŠ¡ï¼š

#### ä½¿ç”¨GitHub Actions

1. **ä¸Šä¼ ä»£ç åˆ°GitHub**
   ```bash
   git init
   git add .
   git commit -m "æ¯æ—¥å…³æ€€APP"
   git remote add origin <ä½ çš„GitHubä»“åº“åœ°å€>
   git push -u origin main
   ```

2. **åˆ›å»ºGitHub Actionså·¥ä½œæµ**
   
   åˆ›å»º `.github/workflows/build.yml`ï¼š
   ```yaml
   name: Build APK
   
   on:
     push:
       branches: [ main ]
     pull_request:
       branches: [ main ]
   
   jobs:
     build:
       runs-on: ubuntu-latest
       
       steps:
       - uses: actions/checkout@v3
       
       - name: Set up Python
         uses: actions/setup-python@v3
         with:
           python-version: '3.8'
           
       - name: Install dependencies
         run: |
           sudo apt-get update
           sudo apt-get install -y git zip unzip openjdk-8-jdk autoconf libtool pkg-config zlib1g-dev libncurses5-dev libncursesw5-dev libtinfo5 cmake libffi-dev libssl-dev
           pip install buildozer
           
       - name: Build APK
         run: |
           buildozer android debug
           
       - name: Upload APK
         uses: actions/upload-artifact@v3
         with:
           name: app-debug
           path: bin/*.apk
   ```

3. **æ¨é€ä»£ç è§¦å‘æ„å»º**
   ```bash
   git add .
   git commit -m "æ·»åŠ è‡ªåŠ¨æ„å»º"
   git push
   ```

4. **ä¸‹è½½æ„å»ºå¥½çš„APK**
   - åœ¨GitHubä»“åº“çš„Actionsé¡µé¢æŸ¥çœ‹æ„å»ºçŠ¶æ€
   - æ„å»ºå®Œæˆåä¸‹è½½APKæ–‡ä»¶

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šJavaç‰ˆæœ¬ä¸å…¼å®¹
```bash
# å®‰è£…Java 8
sudo apt install openjdk-8-jdk
export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
```

### é—®é¢˜2ï¼šNDKä¸‹è½½å¤±è´¥
```bash
# æ‰‹åŠ¨æŒ‡å®šNDKç‰ˆæœ¬
buildozer android debug --verbose
```

### é—®é¢˜3ï¼šç¼–è¯‘é”™è¯¯
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°æ„å»º
buildozer android clean
buildozer android debug
```

### é—®é¢˜4ï¼šæƒé™é—®é¢˜
```bash
# ç»™buildozeræ‰§è¡Œæƒé™
chmod +x ~/.buildozer/android/platform/android-ndk-*/build/tools/make_standalone_toolchain.py
```

## ğŸ“± APKå®‰è£…è¯´æ˜

### ç»™å¦ˆå¦ˆçš„å®‰è£…æ­¥éª¤ï¼š

1. **æ¥æ”¶APKæ–‡ä»¶**
   - é€šè¿‡å¾®ä¿¡ã€QQæˆ–é‚®ä»¶æ¥æ”¶APKæ–‡ä»¶
   - ä¿å­˜åˆ°æ‰‹æœºå­˜å‚¨ä¸­

2. **å…è®¸å®‰è£…æœªçŸ¥æ¥æºåº”ç”¨**
   - æ‰“å¼€æ‰‹æœº"è®¾ç½®"
   - æ‰¾åˆ°"å®‰å…¨"æˆ–"åº”ç”¨ç®¡ç†"
   - å¼€å¯"æœªçŸ¥æ¥æº"æˆ–"å…è®¸å®‰è£…æœªçŸ¥åº”ç”¨"

3. **å®‰è£…åº”ç”¨**
   - ç‚¹å‡»APKæ–‡ä»¶
   - æŒ‰æç¤ºå®Œæˆå®‰è£…
   - åœ¨æ¡Œé¢æ‰¾åˆ°"æ¯æ—¥å…³æ€€"å›¾æ ‡

4. **é¦–æ¬¡ä½¿ç”¨**
   - ç‚¹å‡»åº”ç”¨å›¾æ ‡æ‰“å¼€
   - å…è®¸å¿…è¦çš„æƒé™ï¼ˆç½‘ç»œè®¿é—®ç­‰ï¼‰
   - å¼€å§‹ä½¿ç”¨å„é¡¹åŠŸèƒ½

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### å‡å°APKä½“ç§¯
```python
# åœ¨buildozer.specä¸­æ·»åŠ ï¼š
android.add_compile_options = --enable-site-packages
requirements = python3,kivy==2.1.0
```

### æ·»åŠ åº”ç”¨å›¾æ ‡
1. å‡†å¤‡512x512åƒç´ çš„PNGå›¾æ ‡
2. å‘½åä¸º `icon.png` æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
3. åœ¨ `buildozer.spec` ä¸­å–æ¶ˆæ³¨é‡Šï¼š
   ```
   icon.filename = %(source.dir)s/icon.png
   ```

### æ·»åŠ å¯åŠ¨ç”»é¢
1. å‡†å¤‡é€‚å½“å°ºå¯¸çš„å¯åŠ¨ç”»é¢å›¾ç‰‡
2. å‘½åä¸º `presplash.png`
3. åœ¨ `buildozer.spec` ä¸­é…ç½®

## ğŸ’¡ è¿›é˜¶åŠŸèƒ½

### åº”ç”¨ç­¾åï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰
```bash
# ç”Ÿæˆå¯†é’¥
keytool -genkey -v -keystore debug.keystore -alias mydebugkey -keyalg RSA -keysize 2048 -validity 10000

# åœ¨buildozer.specä¸­é…ç½®
android.keystore = %(source.dir)s/debug.keystore
android.keystore_pass = ä½ çš„å¯†ç 
android.key_pass = ä½ çš„å¯†ç 
android.key_alias = mydebugkey
```

### å¤šæ¶æ„æ”¯æŒ
```
# åœ¨buildozer.specä¸­é…ç½®
android.archs = arm64-v8a, armeabi-v7a, x86_64
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥Pythonå’Œä¾èµ–ç‰ˆæœ¬
2. æŸ¥çœ‹buildozerè¯¦ç»†æ—¥å¿—
3. å‚è€ƒKivyå®˜æ–¹æ–‡æ¡£
4. æœç´¢ç›¸å…³é”™è¯¯ä¿¡æ¯

è®°ä½ï¼šç¼–ç¨‹ä¸ä»…ä»…æ˜¯å†™ä»£ç ï¼Œæ›´æ˜¯è§£å†³é—®é¢˜çš„è¿‡ç¨‹ã€‚æ¯ä¸€ä¸ªé”™è¯¯éƒ½æ˜¯å­¦ä¹ çš„æœºä¼šï¼

---

*ç¥ä½ æˆåŠŸæ‰“åŒ…å‡ºç¬¬ä¸€ä¸ªAPPï¼Œè®©å¦ˆå¦ˆä¸ºä½ éª„å‚²ï¼* ğŸ‰
